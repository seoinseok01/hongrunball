<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>인석이가 만든 홍런볼!</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- 상단 관리자 아이콘 -->
  <div class="top-right">
    <button id="adminIconBtn" class="icon-btn" aria-label="관리자 메뉴">👤</button>
    <div id="adminDropdown" class="admin-dropdown hidden">
      <div class="admin-inner">
        <p class="admin-title">관리자 로그인</p>
        <input id="adminKeyInput" type="password" placeholder="관리자 키 입력" />
        <button id="openAdminBtn">관리자 페이지 열기</button>
        <div id="adminPanel" class="hidden">
          <h4>방 목록 (관리자용 삭제)</h4>
          <ul id="adminRoomList" class="list"></ul>
        </div>
      </div>
    </div>
  </div>

  <main class="container">
    <header class="header">
      <h1>인석이가 만든 홍런볼!</h1>
      <p>혼자 연습하거나, 둘이서·여럿이서 온라인으로 즐기는 숫자야구 게임입니다.</p>
    </header>

    <div id="home">
      <!-- 모드 선택 -->
      <section class="panel">
        <h2>모드 선택</h2>
        <div class="row mode-row">
          <button id="soloModeBtn" class="mode-btn active">혼자서</button>
          <button id="pairModeBtn" class="mode-btn">둘이서</button>
          <button id="compModeBtn" class="mode-btn">여럿이서</button>
        </div>
        <p class="hint">
          혼자서: 혼자인 당신에게 딱맞춤!<br />
          둘이서: 아연이랑 인석이용<br />
          여럿이서: 여럿이서 맞춰봐요 가장 빨리, 질문수 적게 맞히는 사람이 승자!
        </p>
      </section>

      <!-- 혼자서 모드 -->
      <section id="soloPanel" class="panel">
        <h2>혼자서 홍런볼</h2>
        <p class="desc">랜덤으로 만들어진 숫자를 혼자서 맞추는 연습 모드입니다.</p>

        <div class="row">
          <label for="soloLengthInput">자리수</label>
          <select id="soloLengthInput">
            <option value="3">3</option>
            <option value="4" selected>4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
          </select>
        </div>

        <div class="row radio-row">
          <label>
            <input type="radio" name="soloMode" value="unique" checked />
            숫자 중복 금지
          </label>
          <label>
            <input type="radio" name="soloMode" value="dup3" />
            숫자 중복 허용 (같은 숫자 최대 3번)
          </label>
        </div>

        <div class="row">
          <button id="soloStartBtn">새 게임 시작</button>
        </div>

        <div class="row">
          <button id="soloHintBtn" class="ghost">모르겠어요… (힌트)</button>
          <button id="soloGiveUpBtn" class="ghost">포기하기</button>
        </div>
        <p class="hint" id="soloHintStatus"></p>

        <p id="soloStatus" class="status"></p>

        <div class="row">
          <input
            id="soloGuessInput"
            type="tel"
            inputmode="numeric"
            pattern="\d*"
            placeholder="추측 입력"
          />
          <button id="soloGuessBtn">확인</button>
        </div>
        <p id="soloMsg" class="status small"></p>

        <h3>내 기록</h3>
        <ul id="soloLog" class="list"></ul>
      </section>

      <!-- 둘이서 / 여럿이서 공통 로비 -->
      <section id="compPanel" class="panel hidden">
        <h2 id="compTitle">여럿이서 홍런볼</h2>
        <p class="desc" id="compDesc">같은 정답을 두고 최대 10명이 경쟁하는 모드입니다.</p>

        <!-- 플레이어 이름 -->
        <section class="panel inner">
          <h3>플레이어 정보</h3>
          <div class="row">
            <input id="nameInput" type="text" placeholder="플레이어 이름 입력" />
            <button id="saveNameBtn">이름 저장</button>
          </div>
        </section>

        <!-- 방 목록 & 만들기 -->
        <section class="panel inner">
          <h3>방 만들기 / 참여</h3>
          <div class="row">
            <input
              id="compRoomNameInput"
              type="text"
              placeholder="방 이름 (비워두면 랜덤 6자리)"
            />
            <label for="compLenInput">자리수</label>
            <select id="compLenInput">
              <option value="3">3</option>
              <option value="4" selected>4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
            </select>
            <button id="createCompRoomBtn">방 만들기</button>
          </div>

          <h4>현재 열린 방</h4>
          <ul id="compRoomList" class="list"></ul>
        </section>
      </section>
    </div>

    <!-- 둘이서 / 여럿이서 방 화면 -->
    <section id="compRoom" class="panel hidden">
      <div class="room-header">
        <button id="backHomeBtn" class="ghost small">&larr; 홈으로</button>
        <div class="room-title-wrap">
          <h2 id="roomTitle">방</h2>
          <p class="room-code">방 코드: <span id="roomCode"></span></p>
        </div>
      </div>

      <p class="status">
        방장: <span id="hostName"></span>
        <span id="hostBadge" class="badge hidden">방장</span>
      </p>
      <p class="status">참가자: <span id="playersList"></span></p>
      <p class="hint" id="settingsInfo"></p>
      <p class="hint" id="phaseInfo"></p>

      <!-- 방 안 설정 (방장 전용) -->
      <section id="roomSettingsPanel" class="panel inner hidden">
        <h3>방 설정 (방장 전용)</h3>
        <p class="hint">게임 시작 전까지만 자리수와 중복 설정을 바꿀 수 있습니다.</p>
        <div class="row">
          <label for="roomLenSelect">자리수</label>
          <select id="roomLenSelect">
            <option value="3">3</option>
            <option value="4" selected>4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
          </select>
        </div>
        <div class="row radio-row small">
          <label>
            <input type="radio" name="roomModeRadio" value="unique" />
            숫자 중복 금지
          </label>
          <label>
            <input type="radio" name="roomModeRadio" value="dup3" />
            숫자 중복 허용 (같은 숫자 최대 3번)
          </label>
        </div>
      </section>

      <div id="hostControlRow" class="row hidden">
        <button id="startGameBtn">게임 시작 (정답 생성)</button>
      </div>

      <p id="guideInfo" class="hint"></p>

      <div id="guessRow" class="row hidden">
        <input
          id="guessInput"
          type="tel"
          inputmode="numeric"
          pattern="\d*"
          placeholder="숫자 추측 입력"
        />
        <button id="guessBtn">확인</button>
      </div>
      <p id="msg" class="status small"></p>

      <h3>내 질문 / 답변 기록</h3>
      <ul id="myLog" class="list"></ul>

      <h3>현재 순위</h3>
      <ul id="rankList" class="list"></ul>

      <h3>채팅</h3>
      <ul id="chatList" class="list chat-list"></ul>
      <div class="row">
        <input id="chatInput" type="text" placeholder="채팅 입력" />
        <button id="chatSendBtn">전송</button>
      </div>

      <div class="row end">
        <button id="exitRoomBtn" class="ghost">방 나가기</button>
      </div>
    </section>

    <!-- 홍런볼 축하 오버레이 -->
    <div id="celebrate" class="celebrate hidden">
      <div class="celebrate-inner">
        <h2 id="celebrateText">홍런볼!! 🎉</h2>
        <button id="celebrateCloseBtn">닫기</button>
      </div>
    </div>
  </main>

  <!-- Firebase & 스크립트 -->
  <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-database-compat.js"></script>
  <script src="script.js"></script>
</body>
</html>







